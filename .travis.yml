language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "592115019" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t 592115019/se234-lab10-backend .
- docker push 592115019/se234-lab10-backend
- docker pull 592115019/se234-lab10-client
script:
- docker-compose -H "tcp://54.186.240.231:5019" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
    secure: ELrxCBzOHdYAq0A0TrewY1ZvaZ3UCrl0KaH3I1uSuXK6soLfyOiy4TpUoWqQz0ksotAQ2nkFDcNbQLo3WrBOXSuE+H6pJOlZo+0kGBmAa97bNptob2CkSxYjZ16j5fbsiecqeXy/Czh1J50LvKOmu6aRy2hM5y5omg7kOgzTk7dM3w2Ffi2oiuNdbMbIoI+QgL3pR0a2nTOSZTM7bukSL3KQrj6jkl4Xz2GQrjGXQEmDBknAzg1yVTpfMau3n5jgDNjKARsazCeeu1IRXFqXIqAWdumlD8kVHLNzsNPlaz/661VnKYN6BMeqRBIIHxHsGCDf75TZQn1SzFbGbj++fD1Cw3pRaEpAO137mGahMZOCyiClMofJzS2OeNegEoHcbRzCDGEgzVfWX+yCrZjFjRTVGwm+42nVOR1K5WZvDTxBQYfGwwp6o8GbwdqVWy4JaaKNkNEx18o8ruD3vUEBHI1hsqfJ1XP+006fO6zcfULz1jlxnBq9aKNvYr4QaPtRJ8HfF3+DtuhKp8PGHGHgSjrSXXLzhjB6KGRgP1E7MkzZSDPjEfM6QkTXfjwKVqb/7vxtbjjbECtLnVKk/Ym9urrdJFDA1A5PKq69C6vKBCU3ajuVfwLLEZzjVgFohwEBnUVumvkTiLZsGKDMe+FrT7djvaRnTjdlCLzVmw4g/cs=
