language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "592115019" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t 592115019/se234-lab10-backend
  .
- docker push 592115019/se234-lab10-backend
- docker pull 592115019/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: uK64+G/t7nrrup2tkbxt0SfVhvL2hJgp1Zm+1Fc9SMQbMHRdjKWQc9On7cl0KqGWBR3w6JHZ/fC5FWUphO4nk31KSwEXPqziZ2ZX6stHzTrxEP8DvSFSZ35SoUetktsN6OdLBy0X+SXnIALsmIUtc+mrPerS/r7llVE6sBb4+xj2XrEnt+yV7IgWKS4ijPEKjGQpEGFDyQrUtA72Rf8zuGBgFFmfJgVBTNV1NE38+jY5QAJXDu4Obfci2DyncKn8Y6mjkrS9iWFh+r93t/aU5y8RyZq9PK8MON8A2AS2dhRvkTUATnpsa+zDe9hqWx/D+tfa8o2GhNU34L6gNx5W1d1dJ1TMHuLcdY3bkifkYRlMvFmZNWt2mz/jfoRf5uOdTHoAwcZHteHj3sZrO+jnivCadY6JalS39i8W64lDKODdTxC5WbtxiouN1U8EI9t6bwcLdQwHLyJcbfVjMZzoTjUKoXahPWOv0bw5oFTYgFpgZ8ljyuM5zVj+cYSv5OWyzvK/AluvmJ7TDEUL7gj3S3k06e+wqamGdLpp9Y/Wn+Fd7dGxGlOjMBOkhV3p1r4vGYxsmi/9wG0FNQFzapoUHZ8qEmJVuxb+aYZ7ZfvZN6j4JaKIzG9ei2ynOqiTNM0QQ/onZZBZylEZDNC9GHsitYjBbabjwap5BgF2Rwck79s=
  - secure: rR1OZb1I+QwUrt5ugC99pHvdA6uWAeGLQxSZXMBWxNQEBvXbbkRpPkw075mPqjJZKKhAe/T2eusZtqExg7rOt+j1+i8LDvjP0nRkZm9xQcbaw2z4ZlNjyfg0gAcllFtQzAqzQUvL71HyJH/ZNqkWTjY2Oo/yO9xbgQJe6iFRYgLTa4re8yEGpMKNVlWYAzxtYSE5sB8hCazS8xw5K6ruTdMacAJ3AFltfUjwyjUFE58rBHy2BTWlLoqmt6G5TjumuOtqPzkFHpMOWA9oViQDNPWlAYEekhhX5rX5/8CtxklLjFmxtO43qfiLqozsysyDzM7YZVAMEVniBVwl9gpnXEHje7DuEQ6mzoyG2DhTY2Q5fSgp3DGjrJsOSTxOuMv4Eia7hvIzkJ6W9xBczmmgpGgfJkiE+h1g/0xZmP4QMfvZaalsQ+pSkQaKJcmBdkddrNrrUdgao7VY4cWYOB56zCUh5C/TSaU0tNG3pHTST0JhomXFi3/mHbQFvo0UTh6FH5opccFNnA7tMdh1xoh6fzhe/Yh1fDNhojZNyrY9QzYs9g3Um5oCjE54ogIugpgVkjq0Cz8FIPntgx1jKy+brur88Yp9hg8TmeiszQmxVzuxvtMhlZP9jrwrWoRA/8pDsXHsq/fMfItUNkxRmrF2uBfGy33Cf5/KWzD8A8www5g=
  - secure: txSxIdJ0GnKZkZ7MPXn3cDVRb6XfMhzfUU0FmrVbolQ6KshmoyboUTNDCKg+M4Y8PxxsP5bYDUaem0y4IU1PDdWh+cMvLEM2o2Kta9MU7/f+VcToNw+/aA9l+2I+zo+lEN4w2kA5ZQphtKrm/ccVMc8dDNoc0xhyxia0yXUU3UPXPlEsrA5p1scxKgCSCbhHJPHXWoEVobek85L6IdyAx16674JM3B9cL6ANNQq4Yy2Q7xjhcbFAi7gDVRk2M2YwZN9D8RhDp5Vh0PZiF3NNwz66U+pBX0mJlQPSKsWL/5LUsA5qIba/e9/nARzvA9J5w7EUY3/S8KJDMV8IfuED/Csq7WMql6QDIBiJFHT9qwlmLvSBs8gpAabIdG0l2mxobeSgUUj2YWdGvHYDlNuo0AVd87kMo+vx0mkb5ag1TjtVgyd6NQ4FLN8I8Ytm6jrVzjM0en5cr9uruid31vWZmWFLw3EWlsEGRpLf1kllic/nXIxa/LKc/W50jVxQoqd03ZWzydpnxvvcd3IAgEwgij9Jop25cSpmbtFfXv8Wb7M3JjZTyQFEZjSsQrwcIE9nevxoIrZlqXwvzdTlZeqCy0PDL5vX9R/TbZtDl+G5p7c+fIdLAIlbsAWi4PlX3jykU5SBls64c1wYLYbOg51HXO7USIk03WsG3vkm6x9ObB0=
