language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "592115019" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t 592115019/se234-lab10-backend
  .
- docker push 592115019/se234-lab10-backend
- docker pull 592115019/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: uK64+G/t7nrrup2tkbxt0SfVhvL2hJgp1Zm+1Fc9SMQbMHRdjKWQc9On7cl0KqGWBR3w6JHZ/fC5FWUphO4nk31KSwEXPqziZ2ZX6stHzTrxEP8DvSFSZ35SoUetktsN6OdLBy0X+SXnIALsmIUtc+mrPerS/r7llVE6sBb4+xj2XrEnt+yV7IgWKS4ijPEKjGQpEGFDyQrUtA72Rf8zuGBgFFmfJgVBTNV1NE38+jY5QAJXDu4Obfci2DyncKn8Y6mjkrS9iWFh+r93t/aU5y8RyZq9PK8MON8A2AS2dhRvkTUATnpsa+zDe9hqWx/D+tfa8o2GhNU34L6gNx5W1d1dJ1TMHuLcdY3bkifkYRlMvFmZNWt2mz/jfoRf5uOdTHoAwcZHteHj3sZrO+jnivCadY6JalS39i8W64lDKODdTxC5WbtxiouN1U8EI9t6bwcLdQwHLyJcbfVjMZzoTjUKoXahPWOv0bw5oFTYgFpgZ8ljyuM5zVj+cYSv5OWyzvK/AluvmJ7TDEUL7gj3S3k06e+wqamGdLpp9Y/Wn+Fd7dGxGlOjMBOkhV3p1r4vGYxsmi/9wG0FNQFzapoUHZ8qEmJVuxb+aYZ7ZfvZN6j4JaKIzG9ei2ynOqiTNM0QQ/onZZBZylEZDNC9GHsitYjBbabjwap5BgF2Rwck79s=
  - secure: rR1OZb1I+QwUrt5ugC99pHvdA6uWAeGLQxSZXMBWxNQEBvXbbkRpPkw075mPqjJZKKhAe/T2eusZtqExg7rOt+j1+i8LDvjP0nRkZm9xQcbaw2z4ZlNjyfg0gAcllFtQzAqzQUvL71HyJH/ZNqkWTjY2Oo/yO9xbgQJe6iFRYgLTa4re8yEGpMKNVlWYAzxtYSE5sB8hCazS8xw5K6ruTdMacAJ3AFltfUjwyjUFE58rBHy2BTWlLoqmt6G5TjumuOtqPzkFHpMOWA9oViQDNPWlAYEekhhX5rX5/8CtxklLjFmxtO43qfiLqozsysyDzM7YZVAMEVniBVwl9gpnXEHje7DuEQ6mzoyG2DhTY2Q5fSgp3DGjrJsOSTxOuMv4Eia7hvIzkJ6W9xBczmmgpGgfJkiE+h1g/0xZmP4QMfvZaalsQ+pSkQaKJcmBdkddrNrrUdgao7VY4cWYOB56zCUh5C/TSaU0tNG3pHTST0JhomXFi3/mHbQFvo0UTh6FH5opccFNnA7tMdh1xoh6fzhe/Yh1fDNhojZNyrY9QzYs9g3Um5oCjE54ogIugpgVkjq0Cz8FIPntgx1jKy+brur88Yp9hg8TmeiszQmxVzuxvtMhlZP9jrwrWoRA/8pDsXHsq/fMfItUNkxRmrF2uBfGy33Cf5/KWzD8A8www5g=
  - secure: E8K1FZQq28WZukNXyHFtJ+3DWh+JDAKjNwES9AAvmpi5UH+m9x+EyBSF3HnFn4M1QHwSdIcc1/ZwYTWihoHM0MGSLiA8VkoMLZBj0hJjjwTkyVXaQMuCdyFbM1YoX4Rl33dqwdVIw1dP4Xezrsd/VmDKjXsPcY1QRCZweQ3mlpQAHbFtY/sWpIM2BS6HoHv7RmFjNav3Ak1vaKEKWUVQUyDzLKumX6b8UEcjL7RR7nXbdGdTKU9nW8JK3wyV2ZMrkLkcjq2MkdeEuS4YFSq2hl9I+01A7n8kcpelUsVL1U1RxB2ytIeX2RecQKHBxx1sQhuXgxOCDTaWKVu5e+tmLyQX244UxYhqHlZwdTlbWJTJGv/6QST/J7H4XsY757CEq68s9sWE1T7aXlRUrn1Yij0QaX7L/j3w1oqVw7wp7uBpeiQh0wb7J6mbVoIyWPwhKVIunsorpGESgKSlAWvGW7pbjKc+HlOTzzGuw24atCQF5dF6xPtTgoVz3HYOon5vTDuUVTJWvV9cDXJXcNRGPV9yLufZltPkmwNYf/g9Otu8z4hYTISFkNCYI8EPQOaLYuzeaxTPP+awtQo1hc/g4HUjvHycZ4n1qaJ6PSJ5sOKxLxKnVPkEe66EC7Jj3rSygOSguvyqI5PxpvushMpDff0wmMJN4natTYqWCAf1KdE=
